{% extends "navInterface.html" %}

{% block navbar %}
    <li class="nav-item ">
        <a class="nav-link" href="/">Home </a>
    </li>
    <li class="nav-item ">
        <a class="nav-link" href="/playerlist">Lista Giocatori</a>
    </li>
    <li class="nav-item" active>
        <a class="nav-link" href="/fantaAsta">Fanta Asta</a>
    </li> 
{% endblock %}

{% block content %}

    {% for nomeTeam in fanta_Squadre.keys() %}
        <div style="margin:auto 0">
            <h2> {{ nomeTeam }}</h2>
            <p>Fanta Allenatore: {{ fanta_Squadre[nomeTeam][0] }}</p>
            <p>Crediti Disponibili: {{ fanta_Squadre[nomeTeam][1] }}</p>
        </div>
        <table class="table">
            <tbody>
            {% for role in ['Portieri', 'Difensori', 'Centrocampisti', 'Attaccanti'] %}
                {% if role == 'Portieri' %}                    
                    <table class="table">
                        <thead class="thead-dark">
                            <tr> 
                                <td scope="row"><h3>{{ role }}</h3></td>
                                <td>
                                    <div class="form-row align-items-center">
                                        <div class="col-auto my-1">
                                        <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Preference</label>
                                        <select class="custom-select mr-sm-2" id="inlineFormCustomSelect">
                                            <option selected>Choose...</option>
                                            {% for player in giocatoriFADict['P']  %}
                                                <option value="1">{{ player[1] }}</option>
                                            {% endfor %}
                                        </select>
                                        </div>                                        
                                    </div>
                                </td>
                                <td>
                                    <div class="form-row align-items-center">
                                        <div class="col-auto my-1">
                                            <button type="submit" class="btn btn-primary">Compra!</button>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Nome</th>
                                <th scope="col">Squadra</th>
                                <th scope="col">Val Iniziale</th>
                                <th scope="col">Val Attuale</th>
                                <th scope="col">Val Acquisto</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% if fanta_Squadre[nomeTeam][3]['P'] >= 0 and 3 > fanta_Squadre[nomeTeam][3]['P']  %}
                                {% for player in fanta_Squadre[nomeTeam][2]['P'] %}
                                    <tr>
                                        <td>{{ player[0] }}</td>
                                        <td>{{ player[1] }}</td>
                                        <td>{{ player[3] }}</td>
                                        <td>{{ player[4] }}</td>
                                        <td>{{ player[5] }}</td>
                                    </tr>
                                {% endfor %}
                                <tr>

                                </tr>
                                <tr><td> <p>{{ fanta_Squadre[nomeTeam][2]['P']|length }}</p> </td></tr>
                            {% elif  fanta_Squadre[nomeTeam][3]['P'] >= 3 %}
                                {% for player in fanta_Squadre[nomeTeam][2]['P'] %}
                                    <tr>
                                        <td> <p>{{ fanta_Squadre[nomeTeam][2]['P']|length }}</p> </td>
                                        <td>{{ player[0] }}</td>
                                        <td>{{ player[1] }}</td>
                                        <td>{{ player[3] }}</td>
                                        <td>{{ player[4] }}</td>
                                        <td>{{ player[5] }}</td>
                                    </tr>
                                {% endfor %}
                            {% else %}
                                    <p>{{ fanta_Squadre[nomeTeam][2]['P']|length }}</p>
                            {% endif %}
                        </tbody>
                    </table>
                    

                {% elif role == 'Difensori' or role == 'Centrocampisti' %}
                                            
                    <table class="table">
                        <thead>
                            <tr> <td scope="row"> <h3>{{ role }}</h3> </td></tr>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Nome</th>
                                <th scope="col">Squadra</th>
                                <th scope="col">Val Iniziale</th>
                                <th scope="col">Val Attuale</th>
                                <th scope="col">Val Acquisto</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in range(8) %}
                                <tr>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    

                {% elif role == 'Attaccanti' %}

                    <table class="table">
                        <thead>
                            <tr> <td scope="row"> <h3>{{ role }}</h3> </td></tr>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Nome</th>
                                <th scope="col">Squadra</th>
                                <th scope="col">Val Iniziale</th>
                                <th scope="col">Val Attuale</th>
                                <th scope="col">Val Acquisto</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in range(6) %}
                                <tr>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                {% endif %}
            {% endfor%}
            </tbody>
        </table>
    {% endfor %}
    
{% endblock %}